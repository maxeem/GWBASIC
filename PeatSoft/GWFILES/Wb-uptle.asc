1 '***************** MODIFICATION FOR PC-TALK, VERSION 2.0 ******************
2 '
3 'FILENAME: WB-UPTLE
4 '
5 'PURPOSE: ALLOWS AUTOMATIC FILE TRANSMISSION WHILE USING AN EDITOR OF A
6 '         HOST COMPUTER WHICH REQUIRES THE USER TO WAIT FOR ITS PROMPT
7 '         BETWEEN THE TRANSMISSION OF EACH LINE.
8 '
9 'NOTES: THIS FUNCTION IS USED IN CONJUNCTION WITH THE TRANSMIT FILE FUNCTION.
10 '      IT IS TOGGLED ON/OFF WITH ALT-N. IT MUST BE TOGGLED ON BEFORE
11 '      INVOKING THE TRANSMIT FILE FUNCTION.
12 '
13 '      THIS FUNCTION MUST NOT BE USED IF THE RECEIVING COMPUTER ACCEPTS
14 '      THE TRANSMITTED FILE AS ONE BLOCK OF DATA, BECAUSE THIS WOULD
15 '      CAUSE THE PROGRAM TO HANG UP WAITING FOR A PROMPT.
16 '
17 '      THIS FUNCTION MUST NOT BE USED WITH THE FAST TRANSMIT MODE.
18 '
19 '      THIS PATCH DOES NOT CONFLICT WITH THE FOLLOWING PATCHES:
20 '                 TM-BREAK
21 '                 TM-DIAL2
22 '                 TM-LDIR1
23 '                 TM-TIME1
24 '
25 '      THE DELAYS ON LINES 464 AND 4218 MAY BE MODIFIED IF NECESSARY.
26 '
27 'DIRECTIONS: DELETE THE FIRST 32 LINES OF THIS FILE. THEN SAVE AS
28 '            AN ASCII FILE (USE ",A OPTION OF BASIC SAVE COMMAND)
29 '            AND MERGE WITH VERSION 2.0 OF PC-TALK.
30 '************************************************************************
31 'WILLIAM HT BAILEY             PHILA., PA                   DECEMBER 1982
32 '************************************************************************
147 UPLOAD=FALSE
461 IF V$<>CHR$(10) THEN 470
462 IF NOT UPLOAD THEN 475
463 IF EOF(1) THEN 463
464 FOR J=1 TO 1000: NEXT J: A$=INPUT$(LOC(1),#1): GOTO 475
1305 '
1310 '
1315 '                - Automatic Upload To Line Editor -
1320 '
1325 '
1330 IF CODE<>49 THEN 1400
1335 IF NOT UPLOAD THEN UPLOAD=TRUE ELSE GOTO 1370
1340 PRINT: PRINT "=== UPLOAD TO LINE EDITOR MODE ON ===": BEEP
1345 PRINT: PRINT "NOTE: This mode should not used if:
1350 PRINT "           1. The receiving computer accepts the transmitted file"
1355 PRINT "              as a single data block"
1360 PRINT "                             -OR-"
1365 PRINT "           2. The FAST TRANSMIT mode is activated.": GOTO 400
1370 UPLOAD=FALSE: PRINT
1375 PRINT "=== UPLOAD TO LINE EDITOR MODE OFF ===": BEEP: GOTO 400
1380 '
1385 '
1390 '
1395 '
4216 IF V$<>CHR$(10) OR NOT UPLOAD THEN 4220
4217 IF EOF(1) THEN 4217
4218 FOR J=1 TO 1000: NEXT J
