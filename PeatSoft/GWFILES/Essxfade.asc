700 REM this is BASICMOV
710 ' BASIC DEMO TO USE CALL FUNCTION
720 '      USES AN ASSEMBLER SUBROUTINE TO MOVE
730 '      UP TO 65535 BYTES IN MEMORY
740 N=10:REM number of frames to show, starting at highmemory(256k)
750 KEY OFF
760 'DEFINE SEGMENT TO PLACE THE ASSEMBLER CODE
770 DEF SEG=&H1200
780 ' THIS TEST IF IT IS ALREADY LOADED, IF NOT IT LOADS IT
790 BLOAD"mcode.%%%",0
800 SUBRT = 0
810 ' A% = THE FROM ADDRESS
820 ' B% = THE TO ADDRESS
830 ' C% = THE LENGTH TO MOVE
840 GOSUB 980:REM TURN ON COLOR SCREEN
850 DEF SEG=&H1200
860 KEY OFF:SCREEN 1:COLOR 1,0
870 FOR DISP=1 TO N
880 MEMDEL=DISP*1024
885 'MEMORY=8192-MEMDEL:REM 128k system
890 MEMORY=16384-MEMDEL:REM 256k system
900 A%=MEMORY
910 B%=&HB800
920 C%=&H4000
930 CALL SUBRT (A%,B%,C%)
940 FOR PAUSE=1 TO 400:NEXT
950 NEXT DISP
952 GOSUB 1100
955 LOCATE 25,1:FOR EARTHMOVE=1 TO 25:PRINT "   ":FOR PAUSE=1 TO 700:NEXT
956 FOR STAR=1 TO 6:PSET(RND*320,180)
957 NEXT STAR
958 NEXT EARTHMOVE:END
960  RUN"flyby
970 REM switch to color/graphics adapter
980 DEF SEG=0
990 POKE &H410,(PEEK(&H410) AND &HCF) OR &H20
1000 DEF SEG
1010 LOCATE ,,1,6,7
1020 SCREEN 0
1030 WIDTH 40
1040 RETURN
1100 CIRCLE(160,1),225
1105 COLOR 8,
1150 RETURN
